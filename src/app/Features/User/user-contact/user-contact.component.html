<section
  class="bg-gray-100 py-12 px-6 sm:px-6 md:px-12 lg:px-20 overflow-hidden"
  id="contact"
>
  <div
    class="max-w-screen-xl mx-auto bg-white rounded-xl shadow-lg border border-gray-200 p-8 flex flex-col md:flex-row gap-12"
  >
    <!-- Left section: Contact Info -->
    <div class="w-full md:w-1/2 px-4">
      <h2 class="text-2xl md:text-3xl font-bold mb-4" data-aos="fade-up-right">
        Let’s discuss your <span class="text-indigo-600">Project</span>
      </h2>
      <p
        class="text-gray-600 mb-8 text-sm md:text-base text-justify"
        data-aos="fade-up-left"
      >
        If you have an idea or project in mind, feel free to get in touch. I'm
        open to freelance opportunities and collaborations.
      </p>

      <!-- Address -->
      <div
        class="flex flex-col sm:flex-row items-start gap-4 mb-4 p-4 bg-white rounded-lg shadow-md border border-gray-200"
      >
        <div
          class="bg-purple-600 p-2 rounded-md flex items-center justify-center w-10 h-10"
        >
          <mat-icon class="!text-white text-base" data-aos="fade-up-right">
            location_on</mat-icon
          >
        </div>
        <div>
          <p
            class="font-semibold text-gray-600 text-sm"
            data-aos="fade-up-left"
          >
            Address:
          </p>
          <p class="text-gray-800 text-sm break-words" data-aos="fade-up-right">
            {{ userData?.address }}
          </p>
        </div>
      </div>

      <!-- Email -->
      <div
        class="flex flex-col sm:flex-row items-start gap-4 mb-4 p-4 bg-white rounded-lg shadow-md border border-gray-200"
      >
        <div
          class="bg-purple-600 p-2 rounded-md flex items-center justify-center w-10 h-10"
        >
          <mat-icon class="!text-white text-base" data-aos="fade-up-left"
            >mail</mat-icon
          >
        </div>
        <div class="w-full">
          <p
            class="font-semibold text-gray-600 text-sm"
            data-aos="fade-up-right"
          >
            My Email:
          </p>
          <p class="text-gray-800 text-sm break-words" data-aos="fade-up-left">
            {{ userData?.email }}
          </p>
        </div>
      </div>

      <!-- Phone -->
      <div
        class="flex flex-col sm:flex-row items-start gap-4 mb-4 p-4 bg-white rounded-lg shadow-md border border-gray-200"
      >
        <div
          class="bg-purple-600 p-2 rounded-md flex items-center justify-center w-10 h-10"
        >
          <mat-icon class="!text-white text-base" data-aos="fade-up-right"
            >phone</mat-icon
          >
        </div>
        <div class="w-full">
          <p
            class="font-semibold text-gray-600 text-sm"
            data-aos="fade-up-left"
          >
            Call Me Now:
          </p>
          <p class="text-gray-800 text-sm break-words" data-aos="fade-up-right">
            +{{ userData?.phone }}
          </p>
        </div>
      </div>

      <!-- Social Icons -->
      <div class="w-full p-4 mt-8">
        <div class="flex flex-wrap justify-center sm:justify-start gap-4">
          <a
            href="{{ userData?.social?.linkedin }}"
            data-aos="fade-up-left"
            class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white text-xl hover:bg-purple-700 transition"
          >
            <i class="bi bi-linkedin"></i>
          </a>
          <a
            href="{{ userData?.social?.fiverr }}"
            data-aos="fade-up-right"
            class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white text-xl hover:bg-purple-700 transition"
          >
            <i class="bi bi-link"></i>
          </a>
          <a
            href="{{ userData?.social?.github }}"
            data-aos="fade-up-left"
            class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white text-xl hover:bg-purple-700 transition"
          >
            <i class="bi bi-github"></i>
          </a>
          <a
            href="{{ userData?.social?.instagram }}"
            data-aos="fade-up-right"
            class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white text-xl hover:bg-purple-700 transition"
          >
            <i class="bi bi-instagram"></i>
          </a>
          <a
            href="{{ userData?.social?.facebook }}"
            data-aos="fade-up-left"
            class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white text-xl hover:bg-purple-700 transition"
          >
            <i class="bi bi-facebook"></i>
          </a>
        </div>
      </div>
    </div>

    <!-- Right section: Contact Form -->
    <div class="w-full md:w-1/2">
      <p class="text-gray-600 mb-8" data-aos="fade-up-right">
        Fill out the form and I’ll get back to you as soon as possible. Let’s
        create something amazing together!
      </p>

      <!-- Contact Form -->
      <form
        [formGroup]="contactForm"
        (ngSubmit)="onSubmit()"
        class="flex flex-wrap gap-4 text-gray-700 font-left"
      >
        <!-- Name -->
        <mat-form-field
          appearance="fill"
          class="w-full"
          data-aos="fade-up-right"
        >
          <mat-label class="text-sm text-gray-600">Name</mat-label>
          <input matInput formControlName="name" required />
          <mat-error
            *ngIf="
              contactForm.get('name')?.touched &&
              contactForm.get('name')?.invalid
            "
          >
            Name is required
          </mat-error>
        </mat-form-field>

        <!-- Email -->
        <mat-form-field
          appearance="fill"
          class="w-full"
          data-aos="fade-up-left"
        >
          <mat-label class="text-sm text-gray-600">Email</mat-label>
          <input matInput formControlName="email" />
          @if (contactForm.get('email')?.touched &&
          contactForm.get('email')?.invalid) {
          <mat-error class="!text-sm !text-red-600"
            >Please enter a valid email</mat-error
          >
          }
        </mat-form-field>

        <!-- Location -->
        <mat-form-field
          appearance="fill"
          class="w-full"
          data-aos="fade-up-right"
        >
          <mat-label class="text-sm text-gray-600">Location</mat-label>
          <input matInput formControlName="location" />
          @if (contactForm.get('location')?.touched &&
          contactForm.get('location')?.invalid) {
          <mat-error class="!text-sm !text-red-600"
            >Location is required</mat-error
          >
          }
        </mat-form-field>

        <!-- Budget -->
        <mat-form-field
          appearance="fill"
          class="w-full md:w-[48%]"
          data-aos="fade-up-left"
        >
          <mat-label class="text-sm text-gray-600">Budget</mat-label>
          <input matInput formControlName="budget" />
          @if (contactForm.get('budget')?.touched &&
          contactForm.get('budget')?.invalid) {
          <mat-error class="!text-sm !text-red-600"
            >Budget is required</mat-error
          >
          }
        </mat-form-field>

        <!-- Subject -->
        <mat-form-field
          appearance="fill"
          class="w-full md:w-[48%]"
          data-aos="fade-up-right"
        >
          <mat-label class="text-sm text-gray-600">Subject</mat-label>
          <input
            matInput
            formControlName="subject"
            class="border-b border-gray-300 focus:outline-none focus:border-purple-500 focus:ring-0 transition duration-300"
          />
          @if (contactForm.get('subject')?.touched &&
          contactForm.get('subject')?.invalid) {
          <mat-error class="!text-sm !text-red-600"
            >Subject is required</mat-error
          >
          }
        </mat-form-field>

        <!-- Message -->
        <mat-form-field
          appearance="fill"
          class="w-full"
          data-aos="fade-up-left"
        >
          <mat-label class="text-sm text-gray-600">Message</mat-label>
          <textarea matInput formControlName="message" rows="4"></textarea>
          @if (contactForm.get('message')?.touched &&
          contactForm.get('message')?.invalid) {
          <mat-error class="!text-sm !text-red-600"
            >Message is required</mat-error
          >
          }
        </mat-form-field>
        <app-toast
          [message]="toastMessage"
          [messageType]="toastType"
          *ngIf="isToastVisible"
        >
        </app-toast>
        <!-- Submit Button -->
        <div class="w-full mt-4" data-aos="fade-up-right">
          <button
            mat-flat-button
            color="primary"
            type="submit"
            [disabled]="contactForm.invalid || isSubmitting"
            [ngClass]="{
              '!bg-purple-300 !text-gray-800': isSubmitting,
              '!bg-purple-600 !text-white hover:!bg-purple-800': !isSubmitting
            }"
            class="!px-6 !py-2 !rounded-md !shadow-md !transition !duration-300 !flex !items-center !gap-2 font-semibold"
          >
            <!-- Spinner when submitting -->
            <mat-spinner
              *ngIf="isSubmitting"
              diameter="20"
              strokeWidth="3"
              color="primary"
            ></mat-spinner>

            <!-- Text and icon when not submitting -->
            <span *ngIf="!isSubmitting"
              >Submit
              <i class="bi bi-send"></i>
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
